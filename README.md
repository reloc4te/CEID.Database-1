# CEID.Database-1

Here is a uni project in basic learning of SQL(Sql queries,procedures,triggers). 
I will upload the Schema of the database and the files that contain the code for each category.
Unfortunately the Schema is written in greeklish. 
This project was a team project, but done solo.

The initial description of the database in greek:


Σας διατίθεται ένα αρχικό διάγραμμα οντοτήτων σχέσεων της ΒΔ (δείτε το Παράρτημα). Στα
πλαίσια του project θα πρέπει να μελετήσετε αυτό το διάγραμμα και να το επεκτείνετε με
νέους πίνακες, γνωρίσματα ή/και συσχετίσεις ώστε η αναθεωρημένη ΒΔ να σας επιτρέψει να
υλοποιήσετε τα ζητούμενα του Μέρους Α και τη λειτουργικότητα που περιγράφεται στο
Μέρος Β. Σημειώνεται ότι οι λειτουργικές προδιαγραφές πιθανόν να είναι ημιτελείς ή να
περιέχουν ασάφειες και ενδεχομένως να χρειαστεί να προχωρήσετε σε κάποιες παραδοχές.
Οι παραδοχές σας θα πρέπει να είναι ρεαλιστικές και να καταγράφονται με σαφήνεια στην
αναφορά σας.


Μέρος Α: ΒΔ και SQL

Σε πρώτη φάση θα χρειαστεί να μελετήσετε προσεκτικά τον αρχικό σχεδιασμό της ΒΔ που
δίνεται στο Παράρτημα καθώς και τα ζητούμενα του project τόσο στο Μέρος Α, όσο και στο
B. Με βάση αυτές τις λειτουργικές απαιτήσεις θα πρέπει να αναθεωρήσετε τον αρχικό
σχεδιασμό. Για παράδειγμα, η ΒΔ θα πρέπει να επεκταθεί ώστε να διατηρεί πληροφορίες για
τη διαδικασία ελέγχου ενός άρθρου που έχει υποβληθεί στο σύστημα από κάποιο
δημοσιογράφο. Ο έλεγχος γίνεται από τον αρχισυντάκτη και ανάλογα με την κρίση του θα
μπορεί: να το εγκρίνει, να το απορρίψει ή να ζητήσει να γίνουν αλλαγές και επανα-υποβολή
προς έλεγχο. Επίσης θα πρέπει να γίνουν οι απαραίτητες αλλαγές ώστε να υποστηρίζεται η
διαδικασία καθορισμού των περιεχομένων ενός φύλλου (δηλ. επιλογή των άρθρων που θα
περιλαμβάνει και ταξινόμησή τους σε σειρά), διαδιακσία που θα γίνεται από τον
αρχισυντάκτη.

1. (1 μονάδα) Σχεδιάστε το ER διάγραμμα και το αντίστοιχο σχεσιακό διάγραμμα της
αναθεωρημένης ΒΔ και καταγράψτε τυχόν παραδοχές της σχεδίασής σας

2. (2 μονάδες) Κατασκευάστε τους πίνακες της ΒΔ συντάσσοντας ένα σύνολο εντολών
create και insert ώστε να κατασκευαστούν οι απαραίτητες σχέσεις και να γεμίσουν
με ικανό όγκο δεδομένων που θα επιτρέψει τον έλεγχο της σωστής λειτουργίας της
ΒΔ και την εκτέλεση των triggers και των stored procedures που ζητούνται στη
συνέχεια. Θα χρειαστεί να εισάγετε τουλάχιστον 2 εφημερίδες με 2 φύλλα στην
καθεμία. Όλοι οι πίνακες της ΒΔ θα πρέπει να έχουν τουλάχιστον 2 εγγραφές. 

3. (3 μονάδες) Κατασκευάστε τα ακόλουθα:
a. Stored procedure που θα δέχεται σαν είσοδο τον αριθμό φύλλου και το
όνομα της εφημερίδας και θα εμφανίζει κατάλληλα διαμορφωμένα τα
στοιχεία των άρθρων του φύλλου με τη σειρά που έχουν τοποθετηθεί. Για
κάθε άρθρο θα εμφανίζει Τίτλο, Συντάκτη/ες, Ημερομηνία έγκρισης, σελίδα
που ξεκινάει και συνολική έκταση (πλήθος σελίδων). Σε περίπτωση που το
φύλλο δεν έχει ‘κλείσει’ (έχει δηλαδή κενό χώρο για επιπλέον άρθρα) θα
πρέπει να εμφανίζεται σχετικό μήνυμα με τις διαθέσιμες σελίδες.

b. Stored procedure που θα επαναϋπολογίζει το μισθό ενός εργαζομένου με
βάση τους μήνες προϋπηρεσίας. Πιο συγκεκριμένα, θα καλείται για
συγκεκριμένο δημοσιογράφο και θα ελέγχει την ημερομηνία εγγραφής του.
Θα υπολογίζει τους συνολικούς μήνες προϋπηρεσίας προσθέτοντας στην
προϋπηρεσία που δηλώθηκε κατά την εγγραφή στο σύστημα τους μήνες που
έχουν παρέλθει από τότε. Με βάση τους μήνες συνολικής προϋπηρεσίας θα
υπολογίζει αύξηση βασικού μισθού κατά 0,5% για κάθε μήνα προϋπηρεσίας.

c. Trigger που θα ενεργοποιείται κατά την εισαγωγή νέου υπαλλήλου και θα
θέτει το μισθό του στα 650 ευρώ.

d. Trigger που κατά την εισαγωγή νέας εγγραφής στον πίνακα που συνδέει
δημοσιογράφο με άρθρο θα ελέγχει αν ο δημοσιογράφος είναι
αρχισυντάκτης και αν ναι, θα κάνει το άρθρο “accepted”.

e. Trigger που όταν επιλέγονται άρθρα και εισάγονται σε ένα φύλλο θα ελέγχει
αν το φύλλο έχει τον απαραίτητο χώρο σε σελίδες. Διαφορετικά θα
αποτυγχάνει η προσθήκη και θα εμφανίζεται σχετικό μήνυμα λάθους. 
